// ========================================
// 顧客関連
// ========================================

// 事業形態ラベル
export const BUSINESS_TYPE_LABELS = {
  corporation: "法人",
  sole_proprietor: "個人事業主",
  new_corporation: "新設法人",
} as const;

// ========================================
// 商談関連
// ========================================

// 商談ステータスラベル
export const DEAL_STATUS_LABELS: Record<string, string> = {
  active: "進行中",
  won: "成約",
  lost: "失注",
  pending: "保留",
};

// ========================================
// 契約関連
// ========================================

// 契約種別ラベル
export const CONTRACT_TYPE_LABELS: Record<string, string> = {
  property: "物件",
  line: "回線",
  maintenance: "保守",
  // 旧契約種別（後方互換性）
  lease: "リース",
  rental: "レンタル",
  installment: "割賦",
};

// 契約フェーズ（大分類）
export const CONTRACT_PHASE_LABELS: Record<string, string> = {
  商談中: "商談中",
  "審査・申込中": "審査・申込中",
  "下見・工事中": "下見・工事中",
  契約中: "契約中",
  入金中: "入金中",
  請求中: "請求中",
  完了: "完了",
  否決: "否決",
};

// 契約ステータス（小分類）ラベル
export const CONTRACT_STATUS_LABELS: Record<string, string> = {
  // 商談中
  商談待ち: "商談待ち",
  商談日程調整中: "商談日程調整中",
  // 審査・申込中
  "審査・申込対応中": "審査・申込対応中",
  "審査・申込待ち": "審査・申込待ち",
  // 下見・工事中
  下見調整中: "下見調整中",
  下見実施待ち: "下見実施待ち",
  工事日程調整中: "工事日程調整中",
  工事実施待ち: "工事実施待ち",
  // 契約中
  検収確認中: "検収確認中",
  契約書提出対応中: "契約書提出対応中",
  契約書確認待ち: "契約書確認待ち",
  // 入金中
  入金待ち: "入金待ち",
  入金済: "入金済",
  // 請求中
  初回請求確認待ち: "初回請求確認待ち",
  請求処理対応中: "請求処理対応中",
  // 完了
  クローズ: "クローズ",
  // 否決
  対応検討中: "対応検討中",
  失注: "失注",
  // 旧ステータス（後方互換性）
  日程調整中: "日程調整中",
  MTG実施待ち: "MTG実施待ち",
  見積提出: "見積提出",
  受注確定: "受注確定",
  書類準備中: "書類準備中",
  審査結果待ち: "審査結果待ち",
  可決: "可決",
  否決: "否決",
  下見日程調整中: "下見日程調整中",
};

// ステータスからフェーズ（大分類）へのマッピング
export const STATUS_TO_PHASE: Record<string, string> = {
  // 商談中
  商談待ち: "商談中",
  商談日程調整中: "商談中",
  // 審査・申込中
  "審査・申込対応中": "審査・申込中",
  "審査・申込待ち": "審査・申込中",
  // 下見・工事中
  下見調整中: "下見・工事中",
  下見実施待ち: "下見・工事中",
  工事日程調整中: "下見・工事中",
  工事実施待ち: "下見・工事中",
  // 契約中
  検収確認中: "契約中",
  契約書提出対応中: "契約中",
  契約書確認待ち: "契約中",
  // 入金中
  入金待ち: "入金中",
  入金済: "入金中",
  // 請求中
  初回請求確認待ち: "請求中",
  請求処理対応中: "請求中",
  // 完了
  クローズ: "完了",
  // 否決
  対応検討中: "否決",
  失注: "否決",
  // 旧ステータス（後方互換性）
  日程調整中: "商談中",
  MTG実施待ち: "商談中",
  見積提出: "商談中",
  受注確定: "商談中",
  書類準備中: "審査中",
  審査結果待ち: "審査中",
  可決: "審査中",
  否決: "審査中",
  下見日程調整中: "工事中",
};

// フェーズ内ステータス一覧（順序付き）
export const PHASE_STATUSES: Record<string, string[]> = {
  商談中: ["商談待ち", "商談日程調整中"],
  "審査・申込中": ["審査・申込対応中", "審査・申込待ち"],
  "下見・工事中": ["下見調整中", "下見実施待ち", "工事日程調整中", "工事実施待ち"],
  契約中: ["検収確認中", "契約書提出対応中", "契約書確認待ち"],
  入金中: ["入金待ち", "入金済"],
  請求中: ["初回請求確認待ち", "請求処理対応中"],
  完了: ["クローズ"],
  否決: ["対応検討中", "失注"],
};

// 次のフェーズの最初のステータス
export const NEXT_PHASE_FIRST_STATUS: Record<string, string> = {
  商談中: "審査・申込対応中",
  "審査・申込中": "下見調整中",
  "下見・工事中": "検収確認中",
  契約中: "入金待ち",
  入金中: "初回請求確認待ち",
  請求中: "クローズ",
};

// 全ステータス一覧（順序付き）
export const ALL_CONTRACT_STATUSES = [
  "商談待ち",
  "商談日程調整中",
  "審査・申込対応中",
  "審査・申込待ち",
  "下見調整中",
  "下見実施待ち",
  "工事日程調整中",
  "工事実施待ち",
  "検収確認中",
  "契約書提出対応中",
  "契約書確認待ち",
  "入金待ち",
  "入金済",
  "初回請求確認待ち",
  "請求処理対応中",
  "クローズ",
  "対応検討中",
  "失注",
] as const;

// ステータス詳細情報（状態概要・補足・必要なアクション）
export const STATUS_DETAILS: Record<string, { description: string; note: string; action: string }> = {
  商談待ち: {
    description: "商談日程が確定している（初期ステータス）",
    note: "",
    action: "商談を実施する",
  },
  商談日程調整中: {
    description: "商談日程の調整が必要。リスケ依頼がきた場合や、担当者が不在だった場合",
    note: "顧客から日程変更依頼があった、または訪問時に担当者が不在だった状態",
    action: "顧客と日程を調整し確定させる",
  },
  "審査・申込対応中": {
    description: "審査または申込に必要な書類等を準備している",
    note: "【物件】リース審査用の書類を準備中。【回線】NTTへの申込準備中。請求書の名義と契約名義の相違確認が必要",
    action: "必要書類を揃えて提出する",
  },
  "審査・申込待ち": {
    description: "審査または申込を提出し結果を待っている",
    note: "【物件】リース会社の審査結果待ち。【回線】NTTからの申込結果待ち",
    action: "結果連絡を待つ",
  },
  下見調整中: {
    description: "審査・申込が完了した",
    note: "",
    action: "下見の日程を顧客と調整する",
  },
  下見実施待ち: {
    description: "下見日程が確定している",
    note: "",
    action: "下見を実施する",
  },
  工事日程調整中: {
    description: "下見が完了した",
    note: "現場調査の結果、新規配管が必要など追加対応が発生することがある",
    action: "工事の日程を顧客・業者と調整する",
  },
  工事実施待ち: {
    description: "工事日程が確定している",
    note: "",
    action: "工事を実施する",
  },
  検収確認中: {
    description: "工事が完了した",
    note: "検収電話では「月額いくらで何年間支払い」の確認を行う。契約締結＝契約書回収＋検収電話対応完了",
    action: "契約書の回収、検収電話の対応を行う",
  },
  契約書提出対応中: {
    description: "契約書の回収が完了＋顧客の検収電話対応が完了",
    note: "契約書の記入漏れや押印漏れがあると差し戻しの連絡があり再取得が発生する",
    action: "契約書をリース会社へ提出する",
  },
  契約書確認待ち: {
    description: "契約書をリース会社へ提出済み",
    note: "リース会社で契約書の内容確認中。不備があれば連絡があり、再対応が必要",
    action: "リース会社の契約書確認を待つ",
  },
  入金待ち: {
    description: "リース会社の契約書確認が完了した",
    note: "",
    action: "リース会社からの入金を待つ",
  },
  入金済: {
    description: "入金が確認された",
    note: "",
    action: "請求フェーズへ進む",
  },
  初回請求確認待ち: {
    description: "リース会社から顧客への初回請求処理中",
    note: "口座情報の不備（銀行/信用金庫の選択ミス、届出印相違など）があると引き落とし会社から差し戻される",
    action: "リース会社からの請求結果を待つ",
  },
  請求処理対応中: {
    description: "初回請求で問題が発生した",
    note: "顧客に連絡し、正しい口座情報の再取得が必要",
    action: "顧客に連絡し、口座情報を再取得する",
  },
  クローズ: {
    description: "案件が完了した",
    note: "",
    action: "なし",
  },
  対応検討中: {
    description: "審査または申込が通らなかった",
    note: "リース審査否決、またはNTT名義・住所不一致で申込が通らなかった状態",
    action: "再審査・再申込を検討する",
  },
  失注: {
    description: "契約が成立しなかった",
    note: "再審査・再申込も不可となり、契約成立に至らなかった状態",
    action: "なし",
  },
};

// ステータス完了確認メッセージ
export const STATUS_COMPLETION_MESSAGES: Record<string, string> = {
  商談待ち: "商談を実施しましたか？",
  商談日程調整中: "商談日程が確定しましたか？",
  "審査・申込対応中": "書類を提出しましたか？",
  "審査・申込待ち": "審査・申込が完了しましたか？",
  下見調整中: "下見日程が確定しましたか？",
  下見実施待ち: "下見を実施しましたか？",
  工事日程調整中: "工事日程が確定しましたか？",
  工事実施待ち: "工事が完了しましたか？",
  検収確認中: "検収確認が完了しましたか？",
  契約書提出対応中: "契約書をリース会社へ提出しましたか？",
  契約書確認待ち: "リース会社の契約書確認が完了しましたか？",
  入金待ち: "入金が確認されましたか？",
  入金済: "請求フェーズへ進みますか？",
  初回請求確認待ち: "初回請求が完了しましたか？",
  請求処理対応中: "請求処理が完了しましたか？",
};

// ========================================
// 活動関連
// ========================================

// 活動種別ラベル
export const ACTIVITY_TYPE_LABELS = {
  phone: "電話",
  visit: "訪問",
  email: "メール",
  online_meeting: "オンライン商談",
  status_change: "ステータス変更",
  other: "その他",
} as const;

// ========================================
// リース審査関連
// ========================================

// リース審査ステータスラベル
export const LEASE_APPLICATION_STATUS_LABELS = {
  準備中: "準備中",
  審査結果待ち: "審査結果待ち",
  可決: "可決",
  否決: "否決",
  条件付可決: "条件付可決",
} as const;

// リース会社一覧
export const LEASE_COMPANIES = [
  "C-mind",
  "オリコ",
  "ジャックス",
  "その他",
] as const;

// ========================================
// 入金関連
// ========================================

// 入金ステータスラベル
export const PAYMENT_STATUS_LABELS = {
  入金予定: "入金予定",
  入金済: "入金済",
} as const;

// 入金種別ラベル
export const PAYMENT_TYPE_LABELS = {
  initial: "初回",
  monthly: "月額",
  final: "最終",
  other: "その他",
} as const;

// ========================================
// タスク関連
// ========================================

// タスクステータスラベル
export const TASK_STATUS_LABELS = {
  未着手: "未着手",
  進行中: "進行中",
  完了: "完了",
} as const;

// タスク優先度ラベル
export const TASK_PRIORITY_LABELS = {
  high: "高",
  medium: "中",
  low: "低",
} as const;

// タスク担当会社ラベル（デフォルト選択肢）
export const TASK_COMPANY_OPTIONS = [
  "自社",
  "リース会社",
  "工事業者",
  "その他",
] as const;

// ========================================
// ユーザー関連
// ========================================

// ユーザーロールラベル
export const USER_ROLE_LABELS = {
  admin: "管理者",
  manager: "マネージャー",
  sales: "営業",
} as const;

// ========================================
// 商品関連
// ========================================

// 契約種類別の商材一覧
export const PRODUCT_CATEGORIES_BY_CONTRACT_TYPE: Record<string, string[]> = {
  property: ["UTM", "ルーター", "複合機", "その他"],
  line: ["インターネット", "電話", "その他"],
  maintenance: ["インターネット", "電話", "その他"],
};

// 商品カテゴリ一覧（後方互換性のため残す）
export const PRODUCT_CATEGORIES = [
  "UTM",
  "ルーター",
  "複合機",
  "インターネット",
  "電話",
  "その他",
] as const;

// ========================================
// 契約期間オプション
// ========================================

export const CONTRACT_MONTHS_OPTIONS = [
  { value: 12, label: "1年（12ヶ月）" },
  { value: 24, label: "2年（24ヶ月）" },
  { value: 36, label: "3年（36ヶ月）" },
  { value: 48, label: "4年（48ヶ月）" },
  { value: 60, label: "5年（60ヶ月）" },
  { value: 72, label: "6年（72ヶ月）" },
  { value: 84, label: "7年（84ヶ月）" },
] as const;
